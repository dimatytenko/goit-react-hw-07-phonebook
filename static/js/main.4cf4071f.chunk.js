(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{28:function(t,e,n){t.exports={Container:"Container_Container__AnN02"}},42:function(t,e,n){},50:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},76:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"fetchContacts",(function(){return _})),n.d(r,"addContact",(function(){return k})),n.d(r,"deleteContact",(function(){return N}));var c={};n.r(c),n.d(c,"getContacts",(function(){return E})),n.d(c,"getFilter",(function(){return F})),n.d(c,"getLoading",(function(){return P})),n.d(c,"getError",(function(){return S})),n.d(c,"getVisibleContacts",(function(){return A}));var a=n(0),i=n.n(a),o=n(10),u=n.n(o),s=(n(42),n(12)),l=n(28),d=n.n(l),f=n(1);var b=function(t){var e=t.children;return Object(f.jsx)("div",{className:d.a.Container,children:e})},j=n(5),p=(n(50),n(6)),O=n.n(p),h=n(8),v=n(7),m=n(13),x=n.n(m);function g(){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("/contacts").then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}x.a.defaults.baseURL="https://61f699812e1d7e0017fd6e0f.mockapi.io";var w=function(){var t=Object(h.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.post("/contacts",e).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(h.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.delete("/contacts/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=Object(v.c)("contacts/fetchContacts",function(){var t=Object(h.a)(O.a.mark((function t(e,n){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,g();case 4:return c=t.sent,t.abrupt("return",c);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),k=Object(v.c)("contacts/addContacts",function(){var t=Object(h.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),N=Object(v.c)("contacts/deleteContact",function(){var t=Object(h.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E=function(t){return t.contacts.items},F=function(t){return t.contacts.filter},P=function(t){return t.contacts.isLoading},S=function(t){return t.contacts.error},A=function(t){var e=t.contacts.items,n=t.contacts.filter.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))};function L(t){var e=t.onClose,n=Object(j.b)(),i=Object(j.c)(c.getContacts),o=Object(a.useState)(""),u=Object(s.a)(o,2),l=u[0],d=u[1],b=Object(a.useState)(""),p=Object(s.a)(b,2),O=p[0],h=p[1],v=function(){d(""),h("")};return Object(f.jsx)("form",{className:"Form",onSubmit:function(t){t.preventDefault();var c,a=i.map((function(t){return t.name}));a.includes(l)?alert("".concat(l," is already in contacts")):(c={name:l,number:O},n(r.addContact(c)),e(),v())},children:Object(f.jsxs)("div",{className:"Form__box",children:[Object(f.jsx)("label",{className:"Form__label",children:"Name"}),Object(f.jsx)("input",{className:"Form__input",value:l,onChange:function(t){d(t.currentTarget.value)},type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),Object(f.jsx)("label",{className:"Form__label",children:"Number"}),Object(f.jsx)("input",{className:"Form__input",value:O,onChange:function(t){h(t.currentTarget.value)},type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),Object(f.jsx)("button",{className:"Form__button",type:"submit",children:"Add contact"})]})})}n(70);var I=n(19),z=n(36),B=(n(71),["children","onClick"]),M=function(t){var e=t.children,n=t.onClick,r=Object(z.a)(t,B);return Object(f.jsx)("button",Object(I.a)(Object(I.a)({type:"button",className:"IconButton",onClick:n},r),{},{children:e}))};M.defaultProps={onClick:function(){return null},children:null};var T,q=M,J=["title","titleId"];function R(){return R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function V(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function Z(t,e){var n=t.title,r=t.titleId,c=V(t,J);return a.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:e,"aria-labelledby":r},c),void 0===n?a.createElement("title",{id:r},"minus"):n?a.createElement("title",{id:r},n):null,T||(T=a.createElement("path",{d:"M0 13v6c0 0.552 0.448 1 1 1h30c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1h-30c-0.552 0-1 0.448-1 1z"})))}var D=a.forwardRef(Z);n.p;var U=function(t){var e=t.id,n=t.name,c=t.number,a=Object(j.b)();return Object(f.jsxs)("li",{className:"contact",children:[Object(f.jsxs)("div",{className:"contact__item",children:[n,": ",c]}),Object(f.jsx)("div",{className:"contact__button",children:Object(f.jsx)(q,{onClick:function(){return a(r.deleteContact(e))},"aria-label":"minus",children:Object(f.jsx)(D,{width:"20",height:"20"})})})]})},W=n(30),$=n(31),G=n(37),H=n(34),K=n(33),Q=(n(72),function(t){Object(G.a)(n,t);var e=Object(H.a)(n);function n(){return Object(W.a)(this,n),e.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){return Object(f.jsx)(K.a,{color:"#00BFFF",height:120,width:120})}}]),n}(a.Component)),X=Q;var Y=function(){var t=Object(j.b)();Object(a.useEffect)((function(){return t(r.fetchContacts())}),[t]);var e=Object(j.c)((function(t){return c.getVisibleContacts(t)})),n=Object(j.c)(c.getLoading);return Object(f.jsxs)("div",{children:[n&&Object(f.jsx)(X,{}),e.length&&!n>0&&Object(f.jsx)("ul",{children:e.map((function(t){var e=t.id,n=t.name,r=t.number;return Object(f.jsx)(U,{id:e,name:n,number:r},e)}))})]})},tt=(n(73),{filter:Object(v.b)("contacts/filter")});var et,nt=function(){var t=Object(j.c)(c.getFilter),e=Object(j.b)();return Object(f.jsxs)("div",{className:"filter",children:[Object(f.jsx)("label",{className:"filter__label",children:"Find contacts by name"}),Object(f.jsx)("input",{className:"filter__input",type:"text",value:t,onChange:function(t){return e(tt.filter(t.currentTarget.value))}})]})},rt=["title","titleId"];function ct(){return ct=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ct.apply(this,arguments)}function at(t,e){if(null==t)return{};var n,r,c=function(t,e){if(null==t)return{};var n,r,c={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}function it(t,e){var n=t.title,r=t.titleId,c=at(t,rt);return a.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:e,"aria-labelledby":r},c),void 0===n?a.createElement("title",{id:r},"plus"):n?a.createElement("title",{id:r},n):null,et||(et=a.createElement("path",{d:"M31 12h-11v-11c0-0.552-0.448-1-1-1h-6c-0.552 0-1 0.448-1 1v11h-11c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1h11v11c0 0.552 0.448 1 1 1h6c0.552 0 1-0.448 1-1v-11h11c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1z"})))}var ot=a.forwardRef(it),ut=(n.p,n(74),document.querySelector("#modal-root"));function st(t){var e=t.onClose,n=t.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(t){"Escape"===t.code&&e()};return Object(o.createPortal)(Object(f.jsx)("div",{className:"Modal__backdrop",onClick:function(t){t.target===t.currentTarget&&e()},children:Object(f.jsx)("div",{className:"Modal__content",children:n})}),ut)}function lt(){var t=Object(a.useState)(!1),e=Object(s.a)(t,2),n=e[0],r=e[1],c=function(){r((function(t){return!t}))};return Object(f.jsx)(b,{children:Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)("h1",{children:"Phonebook"}),Object(f.jsx)(q,{"aria-label":"plus",onClick:c,children:Object(f.jsx)(ot,{width:"20",height:"20"})}),n&&Object(f.jsx)(st,{onClose:c,children:Object(f.jsx)(L,{onClose:c})}),Object(f.jsx)("h2",{children:"Contacts"}),Object(f.jsx)(nt,{}),Object(f.jsx)(Y,{})]})})}var dt,ft,bt,jt=n(2),pt=n(35),Ot=n(3),ht=Object(v.d)([],(dt={},Object(jt.a)(dt,_.fulfilled,(function(t,e){return e.payload})),Object(jt.a)(dt,k.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(pt.a)(t),[n])})),Object(jt.a)(dt,N.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),dt)),vt=Object(v.d)(!1,(ft={},Object(jt.a)(ft,_.pending,(function(){return!0})),Object(jt.a)(ft,_.fulfilled,(function(){return!1})),Object(jt.a)(ft,_.rejected,(function(){return!1})),Object(jt.a)(ft,N.pending,(function(){return!0})),Object(jt.a)(ft,N.fulfilled,(function(){return!1})),Object(jt.a)(ft,N.rejected,(function(){return!1})),Object(jt.a)(ft,k.pending,(function(){return!0})),Object(jt.a)(ft,k.fulfilled,(function(){return!1})),Object(jt.a)(ft,k.rejected,(function(){return!1})),ft)),mt=Object(v.d)(null,(bt={},Object(jt.a)(bt,_.rejected,(function(t,e){return e.payload})),Object(jt.a)(bt,_.pending,(function(){return null})),Object(jt.a)(bt,N.rejected,(function(t,e){return e.payload})),Object(jt.a)(bt,N.pending,(function(){return null})),Object(jt.a)(bt,k.rejected,(function(t,e){return e.payload})),Object(jt.a)(bt,k.pending,(function(){return null})),bt)),xt=Object(v.d)("",Object(jt.a)({},tt.filter,(function(t,e){return e.payload}))),gt=Object(Ot.b)({items:ht,isLoading:vt,error:mt,filter:xt}),yt=n(32),wt=n.n(yt),Ct=n(9),_t={store:Object(v.a)({reducer:{contacts:gt},middleware:function(t){return t({serializableCheck:{ignoredActions:[Ct.a,Ct.f,Ct.b,Ct.c,Ct.d,Ct.e]}}).concat(wt.a)},devTools:!1})};u.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(j.a,{store:_t.store,children:Object(f.jsx)(lt,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.4cf4071f.chunk.js.map